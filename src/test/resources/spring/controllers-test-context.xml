<?xml version="1.0" encoding="UTF-8"?>
<!--
 Copyright (C) 2013-2014 PaweÅ‚ Jojczyk

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/gpl-3.0.html>.
-->
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:mockito="http://www.mockito.org/spring/mockito"
       xsi:schemaLocation="
			http://www.springframework.org/schema/context
			http://www.springframework.org/schema/context/spring-context.xsd
			http://www.springframework.org/schema/mvc
			http://www.springframework.org/schema/mvc/spring-mvc.xsd
			http://www.springframework.org/schema/beans
			http://www.springframework.org/schema/beans/spring-beans.xsd
			http://www.mockito.org/spring/mockito
			http://www.mockito.org/spring/mockito.xsd">

	<context:property-placeholder location="classpath:spring/config.properties" />

	<context:component-scan base-package="pl.jojczykp.bookstore" use-default-filters="false">
		<context:include-filter type="annotation" expression="org.springframework.stereotype.Controller"/>
		<context:include-filter type="annotation" expression="org.springframework.web.bind.annotation.ControllerAdvice"/>
	</context:component-scan>

	<mvc:annotation-driven/>

	<mockito:mock id="pageParamsLimiter" class="pl.jojczykp.bookstore.utils.PagerLimiter"/>

	<mockito:mock id="booksCommandFactory" class="pl.jojczykp.bookstore.utils.BooksCommandFactory" />

	<mockito:mock id="displayBookAssembler" class="pl.jojczykp.bookstore.assemblers.DisplayBookAssembler"/>
	<mockito:mock id="createBookAssembler" class="pl.jojczykp.bookstore.assemblers.CreateBookAssembler"/>
	<mockito:mock id="updateBookAssembler" class="pl.jojczykp.bookstore.assemblers.UpdateBookAssembler"/>

	<mockito:mock id="booksRepository" class="pl.jojczykp.bookstore.repositories.BooksRepository"/>

	<mockito:mock id="booksCreateValidator" class="pl.jojczykp.bookstore.validators.CreateBookValidator" />
	<mockito:mock id="booksUpdateValidator" class="pl.jojczykp.bookstore.validators.UpdateBookValidator" />
	<mockito:mock id="booksSetPageSizeValidator" class="pl.jojczykp.bookstore.validators.ChangePagerValidator" />

</beans>
